<div class="d-flex">
  <div class="aside">
    <ul>
      <li onclick="suppliersFilter('Espacios')">Espacios</li>
      <li onclick="suppliersFilter('Fotografía')">Fotografía</li>
      <li onclick="suppliersFilter('Catering')">Catering</li>
      <li onclick="suppliersFilter('Entretenimiento')">Entretenimiento</li>
      <li onclick="suppliersFilter('Invitaciones & Decoración')">Invitaciones & Decoración</li>
      <li onclick="suppliersFilter('Disfraces & Accesorios')">Disfraces & Accesorios</li>
      <li onclick="suppliersFilter('todos')">Mostrar todos</li>
    </ul>
    <%= link_to "Pagina principal", root_path, class:"btn btn-success" %>
  </div>
  <div class="container">
  <div class="d-flex flex-wrap">
      <% @suppliers.each do |supplier| %>
        <div class="card" style="width: 18rem;" data-service-type="<%= supplier.service_type %>">
          <%= cl_image_tag supplier.photos.first.key, class:"card-img-top" %>
          <div class="card-body">
            <% if @event %>
              <%= button_to supplier.business_name, user_path(supplier), method: :get, params: {event: @event.id}, class:"btn btn-success" %>
            <% else %>
              <%= link_to supplier.business_name, user_path(supplier) %>
            <% end %>
            <%= supplier.service_type %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>





<script>
  function suppliersFilter(filter) {
    let suppliers = document.getElementsByClassName('card');

    for (let i = 0; i < suppliers.length; i++) {
      let supplier = suppliers[i];
      let serviceType = supplier.getAttribute('data-service-type');

      if (serviceType === filter || filter === 'todos') {
        supplier.style.display = 'block';
      } else {
        supplier.style.display = 'none';
      }
    }
  }
</script>
